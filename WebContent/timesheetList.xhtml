<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
   <head><title>IGNORED</title></head>
   <body>
      <ui:composition template="/templates/masterLayout.xhtml">
         <ui:define name="windowTitle">
            #{msgs.pageTitle}
         </ui:define>

         <ui:define name="heading">
            <ui:include src="/sections/header.xhtml"/>
         </ui:define>
         
         <ui:define name="navPane">
            <div id="navPane">
               <ui:include src="/sections/navPane.xhtml"/>
            </div>            
         </ui:define>

         <ui:define name="content">
            <h:form>
            <div id="content">
               <p:dataView var="timesheet" value="#{empController.getAllTimesheets()}" rows="1" paginator="true"
                paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                >
                  <p:dataViewListItem>
                     <div id="timesheetHeader">
                  <p:panelGrid layout="grid" columns="2">
                     <p:panel>
                        <h:outputText value="#{msgs.eNumber}"/>
                        <h:outputText value="#{empController.currentEmployee.empNumber}"/>
                     </p:panel>
                     <p:panel>
                        <h:outputText value="#{msgs.weekNumber}"/>
                        <h:outputText value="#{timesheet.getWeekNumber()}"/>
                     </p:panel>
                     <p:panel>
                        <h:outputText value="#{msgs.tsName}"/>
                        <h:outputText value="#{empController.currentEmployee.name}"/>
                     </p:panel>
                     <p:panel>
                        <h:outputText value="#{msgs.weekEnding}"/>
                        <h:outputText value="#{timesheet.getWeekEnding()}"/>
                     </p:panel>
                  </p:panelGrid>
               </div>
               <p:dataTable value="#{tsController.getDetails(timesheet)}" var="row" scrollable="true" scrollHeight="400">
                  <p:column width="60">
                     <f:facet name="header">
                        <h:outputText value="#{msgs.project}" 
                                      style="font-weight: bold"/>
                     </f:facet>
                     <h:outputText value="#{row.projectID}" size="2"/>
                  </p:column>
                  <p:column width="80">
                     <f:facet name="header">
                        <h:outputText value="#{msgs.workPackage}" 
                                      style="font-weight: bold"/>
                     </f:facet>
                     <h:outputText value="#{row.wp}" size="4"/>
                     <f:facet name="footer">
                        <h:outputText value="#{msgs.total}"/>
                     </f:facet>
                  </p:column>
                  <p:column width="40">
                     <f:facet name="header">
                        <h:outputText value="#{msgs.total}" 
                                       style="font-weight: bold"/>
                     </f:facet>
                     <h:outputText value="#{row.getTotalHours()}"/>
                     <f:facet name="footer">
                        <h:outputText value="#{tsController.getTimesheetHours(timesheet)}"/>
                     </f:facet>
                  </p:column>
                  <p:column width="60">
                  	 <f:facet name="header">
                        <h:outputText value="#{msgs.saturday}" 
                                       style="font-weight: bold"/>
                     </f:facet>
                     <h:outputText value="#{row.hourSat}" size="2"/>
                     <f:facet name="footer">
                        <h:outputText value="#{tsController.getDayHour(timesheet, 0)}"/>
                     </f:facet>
                  </p:column>
                  <p:column width="60">
                  	 <f:facet name="header">
                        <h:outputText value="#{msgs.sunday}" 
                                       style="font-weight: bold"/>
                     </f:facet>
                     <h:outputText value="#{row.hourSun}" size="2"/>
                     <f:facet name="footer">
                        <h:outputText value="#{tsController.getDayHour(timesheet, 1)}"/>
                     </f:facet>
                  </p:column>
                  <p:column width="60">
                  	 <f:facet name="header">
                        <h:outputText value="#{msgs.monday}" 
                                       style="font-weight: bold"/>
                     </f:facet>
                     <h:outputText value="#{row.hourMon}" size="2"/>
                     <f:facet name="footer">
                        <h:outputText value="#{tsController.getDayHour(timesheet, 2)}"/>
                     </f:facet>
                  </p:column>
                  <p:column width="60">
                  	 <f:facet name="header">
                        <h:outputText value="#{msgs.tuesday}" 
                                       style="font-weight: bold"/>
                     </f:facet>
                     <h:outputText value="#{row.hourTue}" size="2"/>
                     <f:facet name="footer">
                        <h:outputText value="#{tsController.getDayHour(timesheet, 3)}"/>
                     </f:facet>
                  </p:column>
                  <p:column width="60">
                  	 <f:facet name="header">
                        <h:outputText value="#{msgs.wednesday}" 
                                       style="font-weight: bold"/>
                     </f:facet>
                     <h:outputText value="#{row.hourWed}" size="2"/>
                     <f:facet name="footer">
                        <h:outputText value="#{tsController.getDayHour(timesheet, 4)}"/>
                     </f:facet>
                  </p:column>
                  <p:column width="60">
                  	 <f:facet name="header">
                        <h:outputText value="#{msgs.thursday}" 
                                       style="font-weight: bold"/>
                     </f:facet>
                     <h:outputText value="#{row.hourThur}" size="2"/>
                     <f:facet name="footer">
                        <h:outputText value="#{tsController.getDayHour(timesheet, 5)}"/>
                     </f:facet>
                  </p:column>
                  <p:column width="60">
                  	 <f:facet name="header">
                        <h:outputText value="#{msgs.friday}" 
                                       style="font-weight: bold"/>
                     </f:facet>
                     <h:outputText value="#{row.hourFri}" size="2"/>
                     <f:facet name="footer">
                        <h:outputText value="#{tsController.getDayHour(timesheet, 6)}"/>
                     </f:facet>
                  </p:column>
                  <p:column>
                  	 <f:facet name="header">
                        <h:outputText value="#{msgs.notes}" 
                                       style="font-weight: bold"/>
                     </f:facet>
                     <h:outputText value="#{row.note}"/>
                  </p:column>
               </p:dataTable>
                  </p:dataViewListItem>
               </p:dataView>
            </div>
            </h:form>
         </ui:define>
      </ui:composition>
   </body>
</html>